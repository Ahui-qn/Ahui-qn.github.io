<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        img {
            opacity: 0;
            display: block;
        }
        ima.loaded {
            transition: 1s;
            opacity: 1;
        }
    </style>
</head>
<body>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, molestiae aspernatur. Repellat, autem ut? Aliquid optio eum minus velit ducimus magni aut, voluptatem voluptates. Vel debitis quidem minima quibusdam culpa dolor dolores inventore deleniti cupiditate? Soluta incidunt sapiente unde ut impedit eligendi sed nemo aliquam consequuntur iure eveniet cupiditate rem possimus vitae tenetur quos, deleniti accusantium, officia quasi minus obcaecati delectus! Ipsa dignissimos blanditiis ut, maiores expedita molestias omnis dolor, iure inventore nam, magni maxime excepturi incidunt et a velit repellat debitis veniam vero enim. Voluptatem adipisci quo sit officia error atque hic impedit vero ab quasi, exercitationem, quae eos cum distinctio pariatur. Similique at cumque accusantium explicabo corrupti, consequuntur nam dolore facere? Minus error tempora maiores. Atque voluptates temporibus alias iure, rem nihil amet voluptas quod consequuntur cum pariatur, voluptatibus incidunt illum. Quibusdam minima placeat eaque alias aspernatur nobis dolorum tempore quis quia officia, expedita deserunt numquam id totam dicta veniam! Obcaecati autem totam voluptatum quos similique laboriosam saepe nobis ab dolor commodi laborum ipsam, et iure consequuntur ad delectus. Quaerat dolor laboriosam voluptas, id fuga sint. Nulla quidem magnam esse? Quibusdam maxime velit sit vel quidem non possimus voluptate nihil explicabo. Quas, doloribus animi voluptate cumque repudiandae reprehenderit. Aliquam esse, accusantium possimus natus excepturi temporibus eaque aliquid doloremque, placeat sed soluta sapiente quod, facilis consequuntur tempore aut? Voluptatibus reprehenderit repudiandae aliquid blanditiis repellendus vitae culpa aliquam, officia est explicabo commodi aperiam rerum corrupti ex, eligendi voluptatum dignissimos expedita. Error corporis quidem, enim quibusdam illum temporibus! Iusto libero voluptates praesentium corrupti quam. Distinctio sed asperiores quia? Sunt ipsam soluta quibusdam reiciendis aut recusandae nesciunt possimus, placeat voluptate amet dolores perspiciatis, aliquid vitae repellat harum unde pariatur veniam ipsum atque nobis nemo. Repudiandae, placeat? A id porro nesciunt pariatur animi inventore, dolor sit praesentium placeat laudantium voluptas? Aut nulla eveniet architecto non, sit iure quos dolorum possimus ratione perferendis, debitis deserunt maxime, laboriosam beatae laudantium tenetur labore quis quaerat. Aut sed officiis minima autem laboriosam repellat quae est, quo officia mollitia illo rerum necessitatibus esse porro veniam! Expedita natus ducimus fuga quisquam hic facilis iste eum ipsum architecto sapiente repellendus neque reprehenderit odio veniam ea delectus ab aperiam pariatur autem sit, vero quibusdam saepe aliquam? Sit quibusdam minus explicabo deleniti ad consectetur exercitationem atque dolorum. Dolores, nemo nihil. Perspiciatis corporis quis porro similique eveniet aperiam dolor aspernatur ullam libero cumque, voluptatum, voluptas quaerat hic earum repellendus. Explicabo earum repudiandae corporis tenetur officiis, odio possimus quam delectus aut perspiciatis. Et blanditiis nemo ea ad deserunt quam dolorum eaque quia nostrum error, a aut deleniti aspernatur doloremque repudiandae nam quaerat consequuntur eos vitae inventore. Facere maiores corrupti voluptatibus dolores eos laborum id, incidunt amet reprehenderit consequatur? Cupiditate maiores repellendus ducimus sit distinctio ratione a atque, fugit sed debitis impedit sequi cum alias nobis magnam harum reiciendis soluta eaque ipsam. Ipsa eveniet voluptate eaque fuga, quasi, vitae itaque ratione error aliquam laudantium quisquam nesciunt omnis molestias facere inventore iusto, possimus soluta asperiores fugit ipsam amet temporibus. Est, debitis quia! Suscipit quis quibusdam dolores? In voluptate placeat quaerat, perspiciatis sit omnis commodi qui itaque eum deserunt labore quo aut quia laboriosam fugit quisquam aliquid saepe dolore numquam! Quasi ipsa animi atque pariatur placeat nesciunt omnis ipsam? Excepturi exercitationem, aspernatur architecto adipisci nesciunt repellat quo, ipsam ipsum nostrum vero eligendi sapiente. Quis nesciunt similique suscipit eum. Consequatur culpa quia molestiae natus earum non aliquid deserunt quibusdam repudiandae quos corrupti possimus, quas consectetur beatae, ipsum magnam suscipit, dolore reprehenderit est fuga. Sapiente delectus tempora repudiandae, sed consectetur beatae corrupti veniam quibusdam quo laborum ad ducimus quod corporis cupiditate voluptatem! Non a dolor, laborum sapiente consectetur adipisci distinctio est reprehenderit deleniti maiores delectus ab illo asperiores ratione blanditiis optio incidunt rem aliquam corrupti inventore et similique facere voluptatibus. Laboriosam veniam repudiandae perspiciatis, quis minus quia optio labore ullam facere, natus, laborum accusamus. Quas aperiam commodi maiores sed porro consequatur voluptas aliquam enim vitae dicta, perspiciatis cupiditate ab modi! Consequuntur, eveniet error. Rerum, quia, possimus voluptatem sequi ipsam, earum quibusdam modi explicabo in debitis ad. Voluptatum eius eos ratione et facilis nulla nam quas quo iusto nesciunt? Voluptatem, quae aliquid eum eligendi molestiae animi quasi dolore et a eos tempora maiores architecto corporis quod, velit, eaque sit voluptate perspiciatis aspernatur aliquam ullam saepe nobis! Sunt perferendis pariatur tempore doloremque officia. Earum sunt excepturi dignissimos veritatis mollitia, itaque ipsum rem consequatur in modi, ad nobis illum quisquam, dolorem eligendi deleniti maiores porro natus inventore rerum quas fugiat quia iure aperiam? Ad cupiditate dolores unde! Nulla commodi fuga, excepturi nesciunt aliquam, impedit aperiam modi dignissimos vero libero quia laudantium unde voluptatum suscipit sunt explicabo ea facilis itaque? Minima consequatur vel dolorum quaerat, impedit rem exercitationem mollitia ipsa, non reprehenderit dolores obcaecati. Nesciunt voluptates consequatur error minus delectus, cupiditate nobis sit, blanditiis accusamus deleniti deserunt iste exercitationem rem nihil quasi a, nam beatae. Nulla aperiam dolores nesciunt esse iusto ea debitis rerum eum eius! Velit, praesentium odio sunt ipsa laborum error cumque expedita accusamus quibusdam optio, eligendi eum amet nobis nemo maiores? Commodi doloremque magni impedit laudantium exercitationem accusantium eveniet enim sit aliquam! Non iste porro deleniti culpa obcaecati possimus natus minima quod ipsa dolorem ipsam officiis autem provident vitae eos exercitationem ullam amet quisquam omnis laudantium perspiciatis, eius, iure temporibus. Libero nulla aut, fuga labore expedita in, maiores, totam consequatur cupiditate voluptate ut excepturi iste inventore sequi hic quaerat. Voluptatum eius libero repudiandae, explicabo culpa, ipsam excepturi quaerat labore molestiae pariatur nesciunt distinctio reiciendis nisi earum minima soluta debitis dolore quasi omnis cumque deleniti voluptatibus. Quis eveniet ex distinctio at in nobis, unde error repellat! Esse quisquam accusamus magni atque facere autem praesentium sunt cupiditate magnam similique! Maiores ad nulla distinctio. Itaque minus minima, architecto accusantium ut necessitatibus molestiae, amet labore saepe nihil, optio voluptate! Tenetur facere consectetur numquam animi accusantium. At enim necessitatibus excepturi cumque eaque doloribus, earum quo omnis dicta deserunt, dolore nulla nihil aliquid voluptate aliquam quam exercitationem numquam minima vero accusantium inventore quibusdam unde? Fuga repudiandae esse quaerat doloribus dolorum, blanditiis pariatur corporis aperiam suscipit dolore!
    <img data-src="https://travel.12306.cn/imgs/resources/uploadfiles/images/fcd7173f-7651-46e7-a126-bdc199e1f6f7_product_W572_H370.jpg" width="300" height="300" alt="">
    aaaaaa
    bbbbb
  
    <img data-src="https://travel.12306.cn/imgs/resources/uploadfiles/images/b0c76b21-531b-4af4-a607-cf5672c72ded_product_W572_H370.jpg" width="300" height="300" alt="">
    aaaaaa
    bbbbb
  
    <img data-src="https://travel.12306.cn/imgs/resources/uploadfiles/images/b0c76b21-531b-4af4-a607-cf5672c72ded_product_W572_H370.jpg" width="300" height="300" alt="">
    aaaaaa
    bbbbb
  
    <img data-src="https://travel.12306.cn/imgs/resources/uploadfiles/images/8b36f9a7-f780-4e71-b719-9300109a9ff2_product_W572_H370.jpg" width="300" height="300" alt="">
    aaaaaa
    bbbbb
  
    <img data-src="https://travel.12306.cn/imgs/resources/uploadfiles/images/1716878f-79a2-4db1-af8c-b9c2039f0b3c_product_W572_H370.jpg" width="300" height="300" alt="">
  
    <script>
        document.addEventListener('scroll', e => {
            let imgs = Array.from(document.querySelectorAll('img'))

            let soonShow = imgs.filter(it => {  //  过滤出即将要加载的图片
                if (it.getBoundingClientRect().y - window.innerHeight < -20) {  
                    return true
                }
            })

            soonShow.forEach(it => { // 给即将要加载出来的图片添加真的scr属性，并且添加loaded类名以减显
                it.scr = it.dataset.scr
                it.onload = function(){
                    it.classList.add('loaded')
                }
            })
        })
        
    </script>
</body>
</html>